<!DOCTYPE html>
<html>

<head>

<link rel="stylesheet" href="style.css">

</head>

<body>

<h2>Using the XMLHttpRequest</h2>

<button type="button" onclick="loadXMLDoc()">Homework 4</button>

<p id="demo"></p>

<script>

function displayuser() {
  $("#mySecond").empty();
    var x = document.getElementById("mySelect").value;

  $.ajax({
      url: "https://jsonplaceholder.typicode.com/users",
      type: 'GET',
      dataType: 'json',
      cors: true ,
            contentType:'application/json',
            secure: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader ("Authorization", "Basic " + btoa("claire.pagniez@cubber.com:CC..11cc"));
            },
            success: function (data){
                for (i = 0; i < data.users.length; i++) {

          var username = data.users;
                          data.users.sort(function (a, b) {
                         return a.name.localeCompare(b.name);
                     });

                var userid = data.users[i].id;
        var all = data.users[i];
        console.log(all);

            $("#mySecond").append('<option value="'+ userid +'">'+ username +'</option>')

                }
            },
  });
}


        success: function (data){
            var users = data.users;
            users.sort(function (a, b) {
                return a.name.localeCompare(b.name);
            });

           // users is now sorted
        }
</script>

</body>
</html>
